<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>종합문제</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/ajax/style.css">
</head>
<body>
    <div id="wrap">
        <header class="d-flex justify-content-center align-items-center">
            <div class="display-4">통나무 팬션</div>
        </header>
        <nav class="main-menu">
            <ul class="nav nav-fill font-weight-bold">
                <li class="nav-item"><a href="#" class="nav-link text-white">펜션소개</a></li>
                <li class="nav-item"><a href="#" class="nav-link text-white">객실보기</a></li>
                <li class="nav-item"><a href="#" class="nav-link text-white">예약안내</a></li>
                <li class="nav-item"><a href="#" class="nav-link text-white">커뮤니티</a></li>
            </ul>
        </nav>
        <section class="d-flex">
            <div class="col-3"></div>
            <div class="col-6">
                <div class="title d-flex justify-content-center align-items-center">
                    <h3>예약 하기</h3>
                </div>
                <div>
                    <label >이름</label>
                    <input class="form-control" type="text" id="nameInput">
                    <label class="mt-3">예약날짜</label>
                    <input class="form-control" type="text" id="dateInput">
                    <label class="mt-3">숙박일수</label>
                    <input class="form-control" type="text" id="dayInput">
                    <label class="mt-3">숙박인원</label>
                    <input class="form-control" type="text" id="headCountInput">
                    <label class="mt-3">전화번호</label>
                    <input class="form-control" type="text" id="phoneNumberInput">
                    <button class="form-control mt-3 btn btn-warning " type="button" id="addBtn">예약하기</button>

                </div>

            </div>
            <div class="col-3"></div>
        </section>
        <footer class="mt-3">
            <div class="small text-secondary">
                제주특별자치도 제주시 애월읍  <br>
                사업자등록번호: 111-22-255222 / 농어촌민박사업자지정 / 대표:김통목 <br>
                Copyright 2025 tongnamu All right reserved
            </div>
        </footer>

        <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
        <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <script>
            $("#addBtn").on("click",function (){
                let name = $("#nameInput").val();
                let date = $("#dateInput").val();
                let day = $("#dayInput").val();
                let headCount = $("#headCountInput").val();
                let phoneNumber = $("#phoneNumberInput").val();

                if (name ==""){
                    alert("이름을 입력하세요");
                    return;
                }
                if (date ==""){
                    alert("예약날짜를 입력하세요");
                    return;
                }
                if (day ==""){
                    alert("일수를 입력하세요");
                    return;
                }
                if (headCount ==""){
                    alert("숙박인원을 입력하세요");
                    return;
                }
                if (phoneNumber ==""){
                    alert("전화번호를 입력하세요");
                    return;
                }
                $.ajax({
                    type:"post"
                    , url:"/ajax/booking/add"
                    , data: {"name": name, "date" : date, "day":day, "headCount":headCount,"phoneNumber":phoneNumber}
                    , success:function (response){

                        if (response.result == "success") {
                            alert("성공!!");
                            location.href = "/ajax/booking/info";
                        } else {
                            alert("추가 실패!!");
                        }
                    }
                    , error: function (){
                        alert("추가 에러!!")
                    }
                });

            });

            $(function(){
                $('#dateInput').datepicker({
                    dateFormat: 'yy년 m월 d일'
                });
            })
        </script>
    </div>

</body>
</html>